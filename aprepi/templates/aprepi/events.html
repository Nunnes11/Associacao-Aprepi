{% extends 'aprepi/base_clear.html' %}
{% load static %}

{% block content %}
  <div class="eventos-container">

  <!-- IMAGENS -->
  <section class="section">
    <h2 class="section-title">Imagens</h2>
    <div class="events-grid">
      {% for img in images %}
        <div class="event-card" onclick="openModal('image', '{{ img.image.url }}')">
          <div class="event-image-container">
            <img src="{{ img.image.url }}" alt="{{ img.description|default:'Imagem de evento' }}" class="event-image" />
          </div>
          <div class="event-description">
            <p class="event-text">{{ img.description|truncatechars:100 }}</p>
          </div>
        </div>
      {% empty %}
        <p>Nenhuma imagem de evento cadastrada.</p>
      {% endfor %}
    </div>
  </section>

  <!-- VÍDEOS -->
  <section class="section">
    <h2 class="section-title">Vídeos</h2>
    <div class="events-grid">
      {% for video in videos %}
        <div class="event-card" onclick="openModal('video', '{{ video.video.url }}')">
          <div class="event-image-container">
            <img src="{{ video.thumbnail.url }}" alt="{{ video.description|default:'Vídeo de evento' }}" class="event-image" />
            <div class="play-icon"></div>
          </div>
          <div class="event-description">
            <p class="event-text">{{ video.description|truncatechars:100 }}</p>
          </div>
        </div>
      {% empty %}
        <p>Nenhum vídeo de evento cadastrado.</p>
      {% endfor %}
    </div>
  </section>

  <!-- BOTÃO VOLTAR -->
  <div class="voltar-container">
    <a href="{% url 'reception_page' %}" class="btn btn-primary">Voltar</a>
  </div>
</div>

<!-- MODAL -->
<div class="modal" id="mediaModal">
  <span class="modal-close" onclick="closeModal()">&times;</span>
  <div id="modalContent"></div>
</div>
{% endblock %}
